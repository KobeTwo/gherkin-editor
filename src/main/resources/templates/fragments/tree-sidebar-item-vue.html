<html xmlns:th="http://www.thymeleaf.org">
<body>
<th:block th:fragment="tree-sidebar-item-vue-template">
    <script type="text/x-template" id="tree-sidebar-item">
        <li v-if="item.type === 'FOLDER'">
            <div class="sidebar-list-element"
                 :class="{'bg-primary text-white': isSelected}"
                 @click="select">

                <span>
                    <span @click="toggle">
                        <i v-if="open" class="fas fa-chevron-circle-down"></i>
                        <i v-else="open" class="fas fa-chevron-circle-right"></i>
                    </span>
                    <span>{{ item.model.fileName }}</span>

                </span>
                <span v-if="isSelected" class="float-right">
                    <a class="pr-1" data-toggle="modal"
                       data-target="#createFolderModal"
                    >
                        <i class="fas fa-folder-plus"></i>
                    </a>
                    <a class="pr-1" data-toggle="modal"
                       data-target="#createFeatureModal"
                    >
                        <i class="fas fa-file-signature"></i>
                    </a>
                </span>
            </div>
            <ul v-show="open">

                <tree-sidebar-item
                        class="item"
                        v-for="(item, index) in item.children"
                        :key="index"
                        :item="item"
                >
                </tree-sidebar-item>
            </ul>
        </li>
        <li v-else-if="item.type === 'FEATURE'">
            <div class="sidebar-list-element"
                 :class="{'bg-primary text-white': isSelected}"
                 @click="select">
                <span><i class="fas fa-file"></i> {{ fileNameWithoutSuffix }}</span>
            </div>
            <tree-sidebar-item
                    class="item"
                    v-for="(item, index) in item.children"
                    :key="index"
                    :item="item"
            >
            </tree-sidebar-item>
        </li>

    </script>
</th:block>
</body>
</html>